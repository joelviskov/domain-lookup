(this.webpackJsonpdomains=this.webpackJsonpdomains||[]).push([[0],{173:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(48),i=n.n(c),s=n(128),o=n(24),u=n.n(o),l=n(124),b=n(53),j=n(55),d=(n(147),n(192)),f=n(187),p=n(188),h=n(193),O=n(191),m=n(189),x=n(190),v=n(195),g=n(80),k=n(125),y=n.n(k).a.create({baseURL:"https://1ztlll6rcl.execute-api.eu-north-1.amazonaws.com",timeout:3e3}),w={getDomains:function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.get("/domains"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAvailability:function(){var e=Object(b.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.get("/availability?domain=".concat(t,".").concat(n.name)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},S=n(10),C=Object(r.createContext)({lookup:"",statuses:[]}),A=new RegExp(/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]$/),D=function(e){var t=e.header,n=e.domains;return Object(S.jsxs)("div",{children:[Object(S.jsx)(x.a,{horizontal:!0,children:Object(S.jsx)(v.a,{as:"h4",children:t})}),null===n||void 0===n?void 0:n.map((function(e){return Object(S.jsx)(E,{name:e.name},e.name)}))]})},E=function(e){var t=e.name,n=Object(r.useContext)(C),a=n.statuses,c=n.lookup,i=Object(r.useMemo)((function(){return"".concat(c,".").concat(t)}),[c,t]),s=Object(r.useMemo)((function(){var e=a.find((function(e){return e.domain===i}));return e?e.available?"green":"red":"grey"}),[a,i]);return Object(S.jsx)(g.a,{style:{margin:"2px"},color:s,children:i})},z=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(j.a)(c,2),o=i[0],x=i[1],v=Object(r.useState)(""),g=Object(j.a)(v,2),k=g[0],y=g[1],E=Object(r.useState)([]),z=Object(j.a)(E,2),L=z[0],P=z[1],T=Object(r.useState)(""),F=Object(j.a)(T,2),I=F[0],R=F[1],B=Object(r.useState)(!0),J=Object(j.a)(B,2),M=J[0],N=J[1],Z=Object(r.useRef)();Object(r.useEffect)((function(){N(!0),w.getDomains().then((function(e){e.data.sort((function(e,t){return e.name>t.name?1:-1})),a(e.data)})).catch((function(e){return console.log(e)})).finally((function(){return N(!1)}))}),[]),Object(r.useEffect)((function(){Z.current&&(y(""),Z.current(),Z.current=void 0)}),[o]);var _=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n&&!M&&A.test(o)){e.next=2;break}return e.abrupt("return");case 2:return y(t),P([]),R(""),e.next=7,new Promise(function(){var e=Object(b.a)(u.a.mark((function e(r){var a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z.current=function(){return r()},a=Object(l.a)(n),e.prev=2,a.s();case 4:if((c=a.n()).done){e.next=13;break}if(i=c.value,!I&&Z.current){e.next=8;break}return e.abrupt("break",13);case 8:return q(t,i),e.next=11,new Promise((function(e){return setTimeout(e,1e3)}));case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.getAvailability(t,n);case 3:r=e.sent,P((function(e){return[].concat(Object(s.a)(e),[r.data])})),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),R(JSON.stringify(e.t0)),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return M?Object(S.jsx)(d.a,{active:!0,inverted:!0,children:Object(S.jsx)(f.a,{inverted:!0,children:"Loading"})}):Object(S.jsx)(C.Provider,{value:{lookup:k,statuses:L},children:Object(S.jsxs)(p.a,{style:{paddingTop:"50px",paddingBottom:"50px"},children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("small",{style:{float:"left"},children:["Made by ",Object(S.jsx)("a",{href:"http://www.viskov.ee",target:"_blank",rel:"noreferrer",children:"Joel Viskov"})]}),Object(S.jsx)("small",{style:{float:"right"},children:Object(S.jsx)("a",{href:"https://github.com/joelviskov/domain-lookup",target:"_blank",rel:"noreferrer",children:"Source code"})})]}),Object(S.jsx)("br",{}),Object(S.jsx)("hr",{}),Object(S.jsx)("p",{children:"This is just a demo application for testing out AWS Lambdas. API is limited to 60 requests per minute, so you might hit rate limit. Because of that, I set up 1 sec sleep between queries."}),I&&Object(S.jsx)(h.a,{color:"red",children:I}),Object(S.jsx)(O.a,{onSubmit:function(){return _(o)},children:Object(S.jsxs)(O.a.Field,{children:[Object(S.jsx)("label",{children:"Domain Name Search"}),Object(S.jsx)(m.a,{loading:!!Z.current,action:{color:"blue",content:"Search",icon:"search",disabled:!A.test(o)},value:o,placeholder:"google",onChange:function(e){var t=e.target.value;x(t.toLowerCase())}})]})}),Object(S.jsxs)("div",{style:{textAlign:"center"},children:[Object(S.jsx)(D,{header:"Country Domains",domains:n.filter((function(e){return"COUNTRY_CODE"===e.type}))}),Object(S.jsx)(D,{header:"General Domains",domains:n.filter((function(e){return"GENERIC"===e.type}))})]})]})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,196)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(z,{})}),document.getElementById("root")),L()}},[[173,1,2]]]);
//# sourceMappingURL=main.76e74fb8.chunk.js.map